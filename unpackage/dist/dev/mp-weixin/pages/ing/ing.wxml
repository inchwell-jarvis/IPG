<view class="box data-v-2b09414c"><u-modal vue-id="361f693a-1" show-cancel-button="{{true}}" content="{{modal_content}}" value="{{modal_show}}" data-event-opts="{{[['^confirm',[['UpdateSRCState']]],['^input',[['__set_model',['','modal_show','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-2b09414c" bind:__l="__l"></u-modal><u-top-tips vue-id="361f693a-2" navbar-height="75" data-ref="uTips" class="data-v-2b09414c vue-ref" bind:__l="__l"></u-top-tips><block wx:if="{{indexState==2}}"><view class="MY data-v-2b09414c"><u-empty vue-id="361f693a-3" text="当前没有正在执行的工单" mode="list" class="data-v-2b09414c" bind:__l="__l"></u-empty></view></block><view class="head_top_Title data-v-2b09414c"><view class="_p data-v-2b09414c">打卡详情</view><block wx:if="{{indexState==0}}"><u-icon class="icon data-v-2b09414c" vue-id="361f693a-4" name="order" color="#2979ff" size="40" data-event-opts="{{[['^tap',[['order']]]]}}" bind:tap="__e" bind:__l="__l"></u-icon></block><block wx:if="{{indexState==0}}"><u-icon class="iconl data-v-2b09414c" vue-id="361f693a-5" name="arrow-left" size="40" data-event-opts="{{[['^tap',[['Fun']]]]}}" bind:tap="__e" bind:__l="__l"></u-icon></block></view><view class="Customer data-v-2b09414c"><view class="Customer_Top data-v-2b09414c">暂停 / 结束</view><view class="But_RTcjmi _div data-v-2b09414c"><block wx:if="{{JCData.State==2||JCData.State==3||JCData.State==5}}"><u-button vue-id="361f693a-6" size="medium" type="warning" data-event-opts="{{[['^tap',[['UpdateSRCStateInit',[5]]]]]}}" bind:tap="__e" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}">暂停</u-button></block><block wx:if="{{JCData.State==2||JCData.State==3||JCData.State==5}}"><u-button vue-id="361f693a-7" size="medium" type="error" data-event-opts="{{[['^tap',[['UpdateSRCStateInit',[4]]]]]}}" bind:tap="__e" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}">结束</u-button></block><block wx:if="{{!(JCData.State==2||JCData.State==3||JCData.State==5)}}"><u-button vue-id="361f693a-8" size="medium" type="info" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}">暂停</u-button></block><block wx:if="{{!(JCData.State==2||JCData.State==3||JCData.State==5)}}"><u-button vue-id="361f693a-9" size="medium" type="info" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}">结束</u-button></block></view></view><block wx:if="{{JCData}}"><view class="Customer data-v-2b09414c"><view class="Customer_Top data-v-2b09414c">基础信息</view><block wx:if="{{JCData.NullSR}}"><view class="_div data-v-2b09414c"><u-cell-group vue-id="361f693a-10" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}"><u-cell-item vue-id="{{('361f693a-11')+','+('361f693a-10')}}" icon="error-circle" title="当前为空工单" value="将打卡信息导入工单" data-event-opts="{{[['^tap',[['MergeOrder']]]]}}" bind:tap="__e" class="data-v-2b09414c" bind:__l="__l"></u-cell-item></u-cell-group></view></block><block wx:if="{{!JCData.NullSR}}"><view class="_div data-v-2b09414c"><view data-event-opts="{{[['longtap',[['CopyText',['$0'],['JCData.FieldServiceRecordID']]]]]}}" class="Mini_list data-v-2b09414c" bindlongtap="__e"><view class="Mini_list_left data-v-2b09414c">工单号</view><view class="Mini_list_right data-v-2b09414c">{{''+JCData.FieldServiceRecordID+''}}</view></view><view data-event-opts="{{[['longtap',[['CopyText',['$0'],['JCData.XCallID']]]]]}}" class="Mini_list data-v-2b09414c" bindlongtap="__e"><view class="Mini_list_left data-v-2b09414c">报修号</view><view class="Mini_list_right data-v-2b09414c">{{''+JCData.XCallID+''}}</view></view><view data-event-opts="{{[['longtap',[['CopyText',['$0'],['JCData.XCallID']]]]]}}" class="Mini_list data-v-2b09414c" bindlongtap="__e"><view class="Mini_list_left data-v-2b09414c">创建人</view><view class="Mini_list_right data-v-2b09414c">{{''+JCData.Creater+''}}</view></view><view data-event-opts="{{[['longtap',[['CopyText',['$0'],['JCData.CusFullName']]]]]}}" class="Mini_list data-v-2b09414c" bindlongtap="__e"><view class="Mini_list_left data-v-2b09414c">客户名称</view><view class="Mini_list_right data-v-2b09414c">{{''+JCData.CusFullName+''}}</view></view><view data-event-opts="{{[['longtap',[['CopyText',['$0'],['JCData.Model']]]]]}}" class="Mini_list data-v-2b09414c" bindlongtap="__e"><view class="Mini_list_left data-v-2b09414c">型号</view><view class="Mini_list_right data-v-2b09414c">{{''+JCData.Model+''}}</view></view><view data-event-opts="{{[['longtap',[['CopyText',['$0'],['JCData.SN']]]]]}}" class="Mini_list data-v-2b09414c" bindlongtap="__e"><view class="Mini_list_left data-v-2b09414c">序列号</view><view class="Mini_list_right data-v-2b09414c">{{''+JCData.SN+''}}</view></view></view></block><block wx:if="{{JCData.NullSR}}"><view class="_div data-v-2b09414c"></view></block></view></block><view class="Customer data-v-2b09414c"><view class="Customer_Top data-v-2b09414c">打卡信息</view><view class="Mini_list data-v-2b09414c" style="margin:10px 0;"><view class="Mini_list_left data-v-2b09414c">是否报销里程</view><view class="Mini_list_right data-v-2b09414c"><u-switch style="margin-top:5px;float:left;" vue-id="361f693a-12" size="40" active-color="#19be6b" inactive-color="#fa3534" value="{{checked}}" data-event-opts="{{[['^change',[['switchB']]],['^input',[['__set_model',['','checked','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-2b09414c" bind:__l="__l"></u-switch><block wx:if="{{JCData.State!=0}}"><text style="float:right;" class="data-v-2b09414c">{{JCData.TicketNumber}}</text></block></view></view><block wx:if="{{!checked}}"><view class="Mini_list data-v-2b09414c" style="padding-bottom:10px;"><u-input bind:input="__e" style="width:70%;display:block;margin-left:5%;" vue-id="361f693a-13" type="text" border="{{true}}" placeholder="如使用公司车辆，请输入车牌号" value="{{numberPlate}}" data-event-opts="{{[['^input',[['__set_model',['','numberPlate','$event',[]]]]]]}}" class="data-v-2b09414c" bind:__l="__l"></u-input><u-button class="But data-v-2b09414c" style="width:20%;height:34px;" vue-id="361f693a-14" type="primary" data-event-opts="{{[['^tap',[['Uploadlicense']]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}">上传</u-button></view></block></view><view class="TimeLine data-v-2b09414c"><view class="TimeLineLi data-v-2b09414c"><block wx:for="{{JCData.Details}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="li data-v-2b09414c"><view class="_h4 data-v-2b09414c">{{item.StateStr+(item.State==2?' - '+item.Len+' km ':'')}}<label style="float:right;" class="_span data-v-2b09414c">{{item.CreateDate||''}}</label></view><text class="data-v-2b09414c">{{item.Address}}</text></view></block><view class="li data-v-2b09414c"><view class="_h4 data-v-2b09414c">推荐总里程<label style="float:right;" class="_span data-v-2b09414c">{{(JCData.TotalTuiJianLen||'')+' km '}}</label></view><view class="_h4 data-v-2b09414c">实际总里程<label style="float:right;" class="_span data-v-2b09414c">{{(JCData.TotalLen||'')+' km '}}</label></view></view></view></view><view class="map data-v-2b09414c"><view class="mapManual data-v-2b09414c" style="padding-right:100px;"><text class="data-v-2b09414c">{{(automatic_manual==true?'(自动定位)':'(选择定位)')+" 当前位置："+address}}</text><image class="image data-v-2b09414c" src="../../static/image/maps.png" mode data-event-opts="{{[['tap',[['ClickMap']]]]}}" bindtap="__e"></image></view><block wx:if="{{JCData.State==1}}"><u-form vue-id="361f693a-15" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}"><text style="font-size:13px;" class="data-v-2b09414c">最佳里程<label style="margin-left:45px;" class="_span data-v-2b09414c">{{BestMileage+'km'}}</label><u-button style="float:right;" vue-id="{{('361f693a-16')+','+('361f693a-15')}}" type="primary" size="mini" data-event-opts="{{[['^click',[['BestMileageFUNCX']]]]}}" bind:click="__e" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}">重新获取</u-button></text><u-form-item vue-id="{{('361f693a-17')+','+('361f693a-15')}}" label-width="200" label="修改里程" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}"><u-input vue-id="{{('361f693a-18')+','+('361f693a-17')}}" type="text" placeholder="请输入修改的里程(km)" value="{{UpdateMileage}}" data-event-opts="{{[['^input',[['__set_model',['','UpdateMileage','$event',[]]],['checkPrice']]]]}}" bind:input="__e" class="data-v-2b09414c" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('361f693a-19')+','+('361f693a-15')}}" label-width="200" label="修改原因" prop="intro" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('361f693a-20')+','+('361f693a-19')}}" type="textarea" placeholder="请输入修改的原因" value="{{UpdateReason}}" data-event-opts="{{[['^input',[['__set_model',['','UpdateReason','$event',[]]]]]]}}" class="data-v-2b09414c" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('361f693a-21')+','+('361f693a-15')}}" label-width="200" label="请选择" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}"><u-radio-group bind:input="__e" vue-id="{{('361f693a-22')+','+('361f693a-21')}}" wrap="{{true}}" value="{{radio}}" data-event-opts="{{[['^input',[['__set_model',['','radio','$event',[]]]]]]}}" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{radioList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><u-radio vue-id="{{('361f693a-23-'+index)+','+('361f693a-22')}}" name="{{item.name}}" disabled="{{item.disabled}}" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}">{{''+item.name+''}}</u-radio></block></u-radio-group></u-form-item></u-form></block><block wx:if="{{JCData.State==3}}"><view class="mapManual data-v-2b09414c"><u-form vue-id="361f693a-24" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}"><u-form-item vue-id="{{('361f693a-25')+','+('361f693a-24')}}" label-width="200" label="请选择" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}"><u-radio-group bind:input="__e" vue-id="{{('361f693a-26')+','+('361f693a-25')}}" wrap="{{true}}" value="{{CompleteState}}" data-event-opts="{{[['^input',[['__set_model',['','CompleteState','$event',[]]]]]]}}" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{CompleteList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><u-radio vue-id="{{('361f693a-27-'+index)+','+('361f693a-26')}}" name="{{item.name}}" active-color="{{index==0?'red':'#00ff00'}}" disabled="{{item.disabled}}" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}">{{''+item.name+''}}</u-radio></block></u-radio-group></u-form-item></u-form></view></block><view class="mapManual data-v-2b09414c" style="overflow:hidden;padding-right:10px;"><view class="Customer_Top data-v-2b09414c">上传图片</view><view style="width:100%;min-height:1px;" class="data-v-2b09414c"><block wx:for="{{JCData.Images}}" wx:for-item="itemimg" wx:for-index="index1" wx:key="index1"><view style="position:relative;width:90px;height:90px;float:left;margin:5px;" class="data-v-2b09414c"><u-icon style="position:absolute;top:10px;right:3px;z-index:100;" vue-id="{{'361f693a-28-'+index1}}" name="close-circle-fill" color="#fa3534" size="35" data-event-opts="{{[['^tap',[['e0']]]]}}" data-event-params="{{({itemimg})}}" bind:tap="__e" class="data-v-2b09414c" bind:__l="__l"></u-icon><u-image class="img data-v-2b09414c" vue-id="{{'361f693a-29-'+index1}}" width="90px" height="90px" src="{{itemimg.Url}}" shape="square" border-radius="10" fade="{{true}}" duration="450" data-event-opts="{{[['^tap',[['lookimg',['$0'],[[['JCData.Images','',index1,'Url']]]]]]]}}" bind:tap="__e" bind:__l="__l"></u-image></view></block></view><u-upload style="float:left;" vue-id="361f693a-30" width="90px" height="90px" action="{{action}}" auto-upload="{{false}}" data-ref="uUpload" data-event-opts="{{[['^onChooseComplete',[['submit']]]]}}" bind:onChooseComplete="__e" class="data-v-2b09414c vue-ref" bind:__l="__l"></u-upload></view><view class="mapManual data-v-2b09414c" style="padding-right:10px;"><view class="Customer_Top data-v-2b09414c">备注<u-button style="float:right;" vue-id="361f693a-31" type="primary" size="medium" loading="{{loadingState}}" data-event-opts="{{[['^click',[['UpSaveMemo']]]]}}" bind:click="__e" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}">上传</u-button></view><view style="width:100%;min-height:90px;" class="data-v-2b09414c"><u-input bind:input="__e" vue-id="361f693a-32" type="textarea" height="180" border="{{true}}" value="{{SaveMemo}}" data-event-opts="{{[['^input',[['__set_model',['','SaveMemo','$event',[]]]]]]}}" class="data-v-2b09414c" bind:__l="__l"></u-input></view></view><view class="botView data-v-2b09414c"><u-modal vue-id="361f693a-33" show-cancel-button="{{true}}" content="{{botView_content}}" value="{{botView_show}}" data-event-opts="{{[['^confirm',[['FunChoosing']]],['^input',[['__set_model',['','botView_show','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-2b09414c" bind:__l="__l"></u-modal><block wx:if="{{JCData.State==2||JCData.State==3||JCData.State==5}}"><u-button vue-id="361f693a-34" type="primary" data-event-opts="{{[['^tap',[['DepartureAndArrival',[1]]]]]}}" bind:tap="__e" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}">出发</u-button></block><block wx:if="{{JCData.State==1}}"><u-button vue-id="361f693a-35" type="primary" data-event-opts="{{[['^tap',[['DepartureAndArrival',[2]]]]]}}" bind:tap="__e" class="data-v-2b09414c" bind:__l="__l" vue-slots="{{['default']}}">到达</u-button></block></view></view><u-modal vue-id="361f693a-36" content="{{DelImgContent}}" show-cancel-button="{{true}}" value="{{DelImgshow}}" data-event-opts="{{[['^confirm',[['DelImage']]],['^input',[['__set_model',['','DelImgshow','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-2b09414c" bind:__l="__l"></u-modal></view>